{% extends "template.html" %}

{% block title %}Academic Assistant - EduHelp Pro{% endblock %}

{% block academic_active %}dark:bg-gray-700 dark:text-white bg-[#ff8066]/20 text-[#ff8066]{% endblock %}

{% block page_icon %}📚{% endblock %}
{% block page_title %}Academic Assistant{% endblock %}
{% block page_description %}Find learning resources from official documentation and video tutorials{% endblock %}

{% block tab_navigation %}
<div class="flex items-center space-x-3 sm:mt-7 mt-4">
    <a href="#" class="px-3 border-b-2 border-[#ff8066] text-[#ff8066] dark:text-white dark:border-white pb-1.5">Search Resources</a>
    <a href="#" class="px-3 border-b-2 border-transparent text-gray-600 dark:text-gray-400 pb-1.5">Documentation</a>
    <a href="#" class="px-3 border-b-2 border-transparent text-gray-600 dark:text-gray-400 pb-1.5 sm:block hidden">Videos</a>
</div>
{% endblock %}

{% block content %}
<!-- Search Section -->
<div class="mb-8">
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
        <form method="POST" action="/academic">
            <div class="flex flex-col md:flex-row gap-4">
                <input
                    class="flex-grow px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#ff8066] focus:border-transparent dark:bg-gray-700 dark:text-white"
                    type="text"
                    name="query"
                    placeholder="Enter a topic (e.g., Python, JavaScript, Machine Learning)"
                    value="{{ query }}"
                    required
                >
                <button class="px-6 py-3 bg-[#ff8066] text-white rounded-lg hover:bg-[#ff9a80] transition-colors font-medium" type="submit">
                    🔍 Search Resources
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Results Section -->
{% if docs_links or yt_links %}
    {% if docs_links %}
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center">
                <span class="mr-2">📚</span>
                Documentation & Tutorials
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {% for link in docs_links %}
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow">
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">
                            <a href="{{ link.href }}" target="_blank" class="text-[#ff8066] hover:text-[#ff9a80] transition-colors">
                                {{ link.title }}
                            </a>
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">{{ link.snippet }}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-500 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">📖 Documentation</span>
                            <a href="{{ link.href }}" target="_blank" class="text-[#ff8066] hover:text-[#ff9a80] text-sm font-medium">
                                View Resource →
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {% if yt_links %}
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center">
                <span class="mr-2">🎥</span>
                YouTube Videos
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {% for link in yt_links %}
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow">
                        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">
                            <a href="{{ link.href }}" target="_blank" class="text-[#ff8066] hover:text-[#ff9a80] transition-colors">
                                {{ link.title }}
                            </a>
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">{{ link.snippet }}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-500 dark:text-gray-500 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400 px-2 py-1 rounded">🎥 YouTube</span>
                            <a href="{{ link.href }}" target="_blank" class="text-[#ff8066] hover:text-[#ff9a80] text-sm font-medium">
                                Watch Video →
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}
{% elif query %}
    <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center">
        <div class="text-6xl mb-4">🔍</div>
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No Results Found</h3>
        <p class="text-gray-600 dark:text-gray-400">No results found for "{{ query }}". Try a different search term.</p>
    </div>
{% endif %}
{% endblock %}